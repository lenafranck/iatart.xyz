<!DOCTYPE html>
<head>
<style>
.p1 {
    border:6px solid #b0e0e6;
    background-color: #b0e0e6;
    color: black;
    border-radius: 25px;
    width: 110px;
    height: 25px;
    position: absolute;
      left: 0px;

}
.p2 {
    border:6px solid #b0e0e6;
    background-color: #b0e0e6;
    color: black;
    border-radius: 25px;
    position: absolute;
       right: 0px;
       width: 300px;
    width: 110px;
    height: 25px;
}
</style>



  <script>


var cursor = 0;


      var allWords = ["successful", "poor", "rich", "happy","unsuccessful", "sad", "thriving", "prosperous", "lacking", "wealthy", "failing","loser"];
      var eWords = ["successful", "rich", "thriving", "prosperous", "happy", "wealthy"];
      var iWords = ["unsuccessful","poor","loser", "failing", "lacking", "sad"];
      var currentWord = allWords[cursor];

      var starttime = new Date().getTime();
      var results1=[];
      var results2=[];

var cursor2= 0;
var cursor3= 27;


var justnumbers1 = [];
var justnumbers2 = [];
//var currentResult=result[cursor2];

document.onkeydown = function(event) {

    var key_press = String.fromCharCode(event.keyCode);
    var test = document.getElementById('test');
    var status = document.getElementById('status');
    var wordstest2 = document.getElementById("icategory").innerHTML;

        if (key_press == "E" || key_press == "I") {

          var currenttime = new Date().getTime();
          duration= currenttime-starttime;
          console.log(duration);
          var correct;

          if (key_press == "E") {
            var a = eWords.indexOf(currentWord);
            correct =(a!=-1);
          }

          else if (key_press =="I") {
            var b = iWords.indexOf(currentWord);
            correct =(a!=-1);
          }

          //alert(key_press + currentWord);
          var result= {"position": cursor2, "word":currentWord, "duration": duration,"correct":correct};

                if (wordstest2=="Non Art Career Related Words or negative words") {
                  cursor2++
                  results1.push(result);
                }
                else if (wordstest2=="Non Art Career Related Words or positive words") {
                  cursor2++
                  results2.push(result);
              }
          }

          shownextWord();
          //alert(duration);
}




function shownextWord() {

    starttime = new Date().getTime();

    var status = document.getElementById('status');
    currentWord=allWords[cursor];
    status.innerHTML=(allWords[cursor]);
    cursor++

    var wordstest1 = document.getElementById("ecategory").innerHTML;


      if (cursor>=allWords.length && wordstest1=="Positive Words") {
         info.innerHTML=("Good! Now click the button again to start the next test.");
         status.innerHTML=("");
         ecategory.innerHTML=("Art Career Related Words");
         icategory.innerHTML=("Non Art Career Related Words");
         eWords = ["painter", "sculptor", "fine art", "designer", "artistic", "creative", "photographer"];
         iWords = ["economics", "business", "engineer", "doctor", "scientist", "mathematician", "lawyer"];
         allWords = ["engineer", "doctor", "designer", "economics", "painter", "creative", "mathematician", "sculptor", "artistic", "lawyer", "scientist", "business", "fine art", "photographer"];
         cursor=0;
        }
      else if (cursor>=allWords.length && wordstest1=="Art Career Related Words") {
          info.innerHTML=("Good! Now click the button again to start the next test.");
          status.innerHTML=("");
          ecategory.innerHTML=("Art Career Related Words or positive words");
          icategory.innerHTML=("Non Art Career Related Words or negative words");
          eWords = ["painter", "artistic", "fine art", "designer", "sculptor", "creative", "photographer","successful", "rich", "happy","thriving", "prosperous", "wealthy"];
          iWords = ["economics","business", "engineer", "doctor", "scientist", "mathematician", "lawyer", "unsuccessful", "poor", "loser", "failing", "lacking", "sad"];
          allWords = ["engineer", "rich", "poor", "painter", "sculptor", "unsuccessful", "happy", "business", "artistic","economics", "successful", "lacking",
          "fine art", "doctor", "thriving", "prosperous", "designer","wealthy", "loser", "scientist", "mathematician","photographer", "failing", "creative","lawyer","sad"];
          cursor=0;
        }
      else if (cursor>=allWords.length && wordstest1=="Art Career Related Words or positive words") {
          info.innerHTML=("Good! Now click the button again to start the next test.");
          status.innerHTML=("");
          ecategory.innerHTML=("Art Career Related Words or negative words");
          icategory.innerHTML=("Non Art Career Related Words or positive words");
          eWords = ["painter", "artistic", "fine art", "designer", "sculptor", "creative", "photographer", "unsuccessful", "poor", "loser", "failing", "lacking", "sad"];
          iWords = ["economics","business", "engineer", "doctor", "scientist", "mathematician", "lawyer", "successful", "rich", "happy","thriving", "prosperous", "wealthy"];
          allWords = ["artistic","unsuccessful","thriving","lawyer","mathematician","poor","painter","rich","doctor","designer","happy","sculptor","loser","economics","prosperous",
          "business","failing", "lacking", "fine art","wealthy","scientist","successful","creative","engineer","photographer","sad"];
          cursor=0;
        }

      else if (cursor>=allWords.length && wordstest1=="Art Career Related Words or negative words") {
          info.innerHTML=("You have finished! Press the button again to get your results.");
          status.innerHTML=("<input type='button' onclick='getResults()'; value='Get Results!'>");
          document.getElementById("status").innerHTML=("<input type='button' onclick='getResults()'; value='Get Results!'>");

          }
}


function getResults() {

//var writeResults1= JSON.stringify(results1);
//var writeResults2= JSON.stringify(results2);
//var a = results1[1];
//var b = JSON.stringify(a);
//var c = JSON.parse(b);
//var d = a["duration"];
//var e = JSON.stringify(d);
//document.write(e);

var allresults1 = [results1[1],results1[2], results1[3], results1[4], results1[5], results1[6], results1[7], results1[8],
results1[9], results1[10], results1[11], results1[12], results1[13], results1[14], results1[15], results1[16],
results1[17], results1[18],results1[19], results1[20], results1[21], results1[22], results1[23],
results1[24], results1[25]];

var allresults2 = [results2[1],results2[2], results2[3], results2[4], results2[5], results2[6], results2[7], results2[8],
results2[9], results2[10], results2[11], results2[12], results2[13], results2[14], results2[15], results2[16],
results2[17], results2[18],results2[19], results2[20], results2[21], results2[22], results2[23],
results2[24], results2[25]];

var len = allresults1.length;
var len2 = allresults2.length;
var i = 0
var i2 = 0
var txt1 = "";
var txt2 = "";
var x;
var y;


for (; i < len;) {
    x = allresults1[i];
    //txt1 += JSON.stringify(x["duration"]) + " ";
    txt1 += x["duration"] + " ";
    justnumbers1.push(x["duration"]);
    i++;
}
  //justnumbers1.push(txt1);

for (; i2 < len2;) {
    y = allresults2[i2];
    //txt2 += JSON.stringify(y["duration"]) + " ";
    txt2 += y["duration"] + " ";
    justnumbers2.push(y["duration"]);
    i2++;
}

  calculateResults();

}

function calculateResults () {

  var endresult = justnumbers1.reduce(function(prev,next,index) {
        console.log(index + ":" + prev + ":" + next);
        prev += next;
        return prev;
  },0);
  var endresult2 = justnumbers2.reduce(function(prev,next,index) {
        console.log(index + ":" + prev + ":" + next);
        prev += next;
        return prev;
  },0);
  console.log("Final Result of Test 3: " + endresult)
  console.log("Final Result of Test 4: " + endresult2)

  if (endresult > endresult2) {
  document.write("You have a preference towards art related careers!")
  }
  else if (endresult < endresult2) {
  document.write("You have a preference towards non-art related careers!")
  }
  else if (endresult == endresult2) {
  document.write("You have 0 bias!")
  }


}

  </script>


</head>
<body>


  <p id="ecategory" class="p1">Positive Words</p>
  <p id="icategory"class="p2">Negative Words</p></br></br></br></br>


  <div align="center">
  <p id="status"><p>
  </div></br>


  <div align="center">
  <input id="beginbutton" type="button" onclick="shownextWord()"; value="Begin!" >
  </div>


  <div align="center">
  <p id="info">To start the test, click the button above.
      Use the keys e and i on your keyboard to sort the
      word that pops up, into its correct category.  The key
      e corresponds with the box on the left and the key
      i corresponds to the box on the right. The test
      will only work if you sort the words into the correct
      cateogry as fast as you can.  You must go quickly
      in order for it to correctly assess your results.<p>
  </div></br>


</body>
</html>
